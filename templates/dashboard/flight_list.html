{% extends "base.html" %}
{% block title %}航班管理{% endblock %}
{% block content %}
<h3>航班管理</h3>

<div class="mb-3">
    <a href="{% url 'dashboard:flight_create' %}" class="btn btn-primary">新增航班</a>
</div>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>航班号</th>
        <th>航空公司</th>
        <th>出发</th>
        <th>到达</th>
        <th>起飞时间</th>
        <th>状态</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    {% for f in flights %}
        <tr>
            <td>{{ f.flight_no }}</td>
            <td>{{ f.airline }}</td>
            <td>{{ f.depart_airport.city }} ({{ f.depart_airport.code }})</td>
            <td>{{ f.arrive_airport.city }} ({{ f.arrive_airport.code }})</td>
            <td>{{ f.depart_time|date:"Y-m-d H:i" }}</td>
            <td>{{ f.get_status_display }}</td>
            <td>
                <a href="{% url 'dashboard:flight_update' f.id %}"
                   class="btn btn-sm btn-outline-primary">编辑</a>
                <a href="{% url 'dashboard:flight_delete' f.id %}"
                   class="btn btn-sm btn-outline-danger">删除</a>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="7">当前尚无航班，请先点击“新增航班”。</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
